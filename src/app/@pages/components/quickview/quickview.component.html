<div [class.open]=isOpen class="quickview-wrapper" id="quickview">
  <!-- Nav tabs -->
  <tabset>
    <tab customClass="full-height" heading="Notes" id="quickview-notes">
      <div [class.push]="isNoteOpen" class="view-port clearfix quickview-notes" id="note-views">
        <!-- BEGIN Note List !-->
        <div class="view" id="quick-note-list">
          <div class="full-height d-flex flex-column list">
            <div class="toolbar clearfix">
              <ul class="pull-right ">
                <li>
                  <a (click)="deleteMode()" [class.selected]="deleteNoteMode" class="delete-note-link"><i class="fa fa-trash-o"></i></a>
                </li>
                <li>
                  <a (click)="composeNote()" [class.hide]="deleteNoteMode" class="new-note-link"><i class="fa fa-plus"></i></a>
                </li>
              </ul>
              <button (click)="deleteNote()" [class.hide]="!deleteNoteMode" class="btn-remove-notes btn btn-xs btn-block"><i class="fa fa-times"></i> Delete</button>
            </div>
            <ul class="full-height" perfectScrollbar>
              <!-- BEGIN Note Item !-->
              <li (click)="onSelectNote(note)" *ngFor="let note of noteList">
                <div class="left">
                  <!-- BEGIN Note Action !-->
                  <div [ngStyle]="deleteNoteMode && {'display': 'block'}" class="checkbox check-warning no-margin">
                    <input (change)="onCheck($event,note)" id="qncheckbox{{note.id}}" type="checkbox" value="1">
                    <label for="qncheckbox{{note.id}}"></label>
                  </div>
                  <!-- END Note Action !-->
                  <!-- BEGIN Note Preview Text !-->
                  <p [innerHTML]="note.notes" class="note-preview"></p>
                  <!-- BEGIN Note Preview Text !-->
                </div>
                <!-- BEGIN Note Details !-->
                <div class="right pull-right">
                  <!-- BEGIN Note Date !-->
                  <span class="date">{{note.date | date:'dd/MM/yy'}}</span>
                  <a href="javascript:void(0)"><i class="fa fa-chevron-right"></i></a>
                  <!-- END Note Date !-->
                </div>
                <!-- END Note Details !-->
              </li>
              <!-- END Note List !-->
            </ul>
          </div>
        </div>
        <!-- END Note List !-->
        <div class="view note" id="quick-note">
          <div *ngIf="selectedNote" class="extra-component">
            <div class="top">
              <span>{{selectedNote.date | date:'dd LLLL yyyy'}}</span>
            </div>
          </div>
          <quill-editor [(ngModel)]="noteText" class="full-height full-width" placeholder="">
            <ul class="ql-toolbar ql-snow" quill-editor-toolbar>
              <li>
                <button (click)="toggleNotesView()" class="close-note-link"><i class="pg pg-arrow_left"></i></button>
              </li>
              <li class="ql-formats">
                <button [title]="'Bold'" class="ql-bold"></button>
              </li>
              <li class="ql-formats">
                <button [title]="'Italic'" class="ql-italic"></button>
              </li>
              <li class="ql-formats">
                <button [title]="'Link'" class="ql-link"></button>
              </li>
            </ul>
          </quill-editor>
        </div>
      </div>

    </tab>
    <tab customClass="full-height" heading="Alerts" id="quickview-alerts">
      <div class="view-port clearfix" id="alerts">
        <!-- BEGIN Alerts View !-->
        <div class="view bg-white">
          <div class="full-height d-flex flex-column">
            <!-- BEGIN View Header !-->
            <div class="navbar navbar-default navbar-sm">
              <div class="navbar-inner">
                <!-- BEGIN Header Controler !-->
                <a class="inline action p-l-10 link text-master" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:">
                  <i class="pg pg-more"></i>
                </a>
                <!-- END Header Controler !-->
                <div class="view-heading">
                  Notications
                </div>
                <!-- BEGIN Header Controler !-->
                <a class="inline action p-r-10 pull-right link text-master" href="javascript:void(0)">
                  <i class="pg pg-search"></i>
                </a>
                <!-- END Header Controler !-->
              </div>
            </div>
            <!-- END View Header !-->
            <!-- BEGIN Alert List !-->
            <div class="full-height list-view boreded no-top-border" perfectScrollbar>
              <!-- BEGIN List Group !-->
              <div class="list-view-group-container">
                <!-- BEGIN List Group Header!-->
                <div class="list-view-group-header text-uppercase">
                  Calendar
                </div>
                <!-- END List Group Header!-->
                <ul>
                  <!-- BEGIN List Group Item!-->
                  <li class="alert-list">
                    <!-- BEGIN Alert Item Set Animation using data-view-animation !-->
                    <a class="align-items-center" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:">
                      <p class="">
                        <span class="text-warning fs-10"><i class="fa fa-circle"></i></span>
                      </p>
                      <p class="p-l-10 overflow-ellipsis fs-12">
                        <span class="text-master">David Nester Birthday</span>
                      </p>
                      <p class="p-r-10 ml-auto fs-12 text-right">
                        <span class="text-warning">Today <br></span>
                        <span class="text-master">All Day</span>
                      </p>
                    </a>
                    <!-- END Alert Item!-->
                    <!-- BEGIN List Group Item!-->
                  </li>
                  <!-- END List Group Item!-->
                  <!-- BEGIN List Group Item!-->
                  <li class="alert-list">
                    <!-- BEGIN Alert Item Set Animation using data-view-animation !-->
                    <a class="align-items-center" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:void(0)">
                      <p class="">
                        <span class="text-warning fs-10"><i class="fa fa-circle"></i></span>
                      </p>
                      <p class="p-l-10 overflow-ellipsis fs-12">
                        <span class="text-master">Meeting at 2:30</span>
                      </p>
                      <p class="p-r-10 ml-auto fs-12 text-right">
                        <span class="text-warning">Today</span>
                      </p>
                    </a>
                    <!-- END Alert Item!-->
                  </li>
                  <!-- END List Group Item!-->
                </ul>
              </div>
              <!-- END List Group !-->
              <div class="list-view-group-container">
                <!-- BEGIN List Group Header!-->
                <div class="list-view-group-header text-uppercase">
                  Social
                </div>
                <!-- END List Group Header!-->
                <ul>
                  <!-- BEGIN List Group Item!-->
                  <li class="alert-list">
                    <!-- BEGIN Alert Item Set Animation using data-view-animation !-->
                    <a class="p-t-10 p-b-10 align-items-center" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:">
                      <p class="">
                        <span class="text-complete fs-10"><i class="fa fa-circle"></i></span>
                      </p>
                      <p class="col overflow-ellipsis fs-12 p-l-10">
                        <span class="text-master link">Jame Smith commented on your status<br></span>
                        <span class="text-master">“Perfection Simplified - Company Revox"</span>
                      </p>
                    </a>
                    <!-- END Alert Item!-->
                  </li>
                  <!-- END List Group Item!-->
                  <!-- BEGIN List Group Item!-->
                  <li class="alert-list">
                    <!-- BEGIN Alert Item Set Animation using data-view-animation !-->
                    <a class="p-t-10 p-b-10 align-items-center" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:">
                      <p class="">
                        <span class="text-complete fs-10"><i class="fa fa-circle"></i></span>
                      </p>
                      <p class="col overflow-ellipsis fs-12 p-l-10">
                        <span class="text-master link">Jame Smith commented on your status<br></span>
                        <span class="text-master">“Perfection Simplified - Company Revox"</span>
                      </p>
                    </a>
                    <!-- END Alert Item!-->
                  </li>
                  <!-- END List Group Item!-->
                </ul>
              </div>
              <div class="list-view-group-container">
                <!-- BEGIN List Group Header!-->
                <div class="list-view-group-header text-uppercase">
                  Sever Status
                </div>
                <!-- END List Group Header!-->
                <ul>
                  <!-- BEGIN List Group Item!-->
                  <li class="alert-list">
                    <!-- BEGIN Alert Item Set Animation using data-view-animation !-->
                    <a class="p-t-10 p-b-10 align-items-center" data-navigate="view" data-view-animation="push-parrallax" data-view-port="#chat" href="javascript:void(0)">
                      <p class="">
                        <span class="text-danger fs-10"><i class="fa fa-circle"></i></span>
                      </p>
                      <p class="col overflow-ellipsis fs-12 p-l-10">
                        <span class="text-master link">12:13AM GTM, 10230, ID:WR174s<br></span>
                        <span class="text-master">Server Load Exceeted. Take action</span>
                      </p>
                    </a>
                    <!-- END Alert Item!-->
                  </li>
                  <!-- END List Group Item!-->
                </ul>
              </div>
            </div>
            <!-- END Alert List !-->
          </div>
        </div>
        <!-- EEND Alerts View !-->
      </div>
    </tab>
    <tab active="true" customClass="full-height" heading="Chat" id="quickview-chat">
      <div class="view-port clearfix" id="chat">
        <div class="view bg-white">
          <!-- BEGIN View Header !-->
          <div class="navbar navbar-default">
            <div class="navbar-inner">
              <!-- BEGIN Header Controler !-->
              <a animationType="push-parrallax" class="inline action p-l-10 link text-master" href="javascript:" parentView="chat" pg-view-trigger>
                <i class="pg pg-plus"></i>
              </a>
              <!-- END Header Controler !-->
              <div class="view-heading">
                Chat List
                <div class="fs-11">Show All</div>
              </div>
              <!-- BEGIN Header Controler !-->
              <a class="inline action p-r-10 pull-right link text-master" href="javascript:void(0)">
                <i class="pg pg-more"></i>
              </a>
              <!-- END Header Controler !-->
            </div>
          </div>
          <!-- END View Header !-->
          <pg-list-view-container class="scrollable full-height">
            <pg-list-item *ngFor="let group of userList">
              <ng-template #ItemHeading>
                {{group.group}}
              </ng-template>
              <li *ngFor="let user of group.users" class="chat-user-list clearfix">
                <a animationType="push-parrallax" parentView="chat" pg-view-trigger>
										<span class="thumbnail-wrapper d32 circular bg-success">
												<img alt="" class="col-top" height="34" src="{{user.img}}" width="34">
										</span>
                  <p class="p-l-10 ">
                    <span class="text-master">{{user.username}}</span>
                    <span class="block text-master hint-text fs-12">{{user.lastMessage}}</span>
                  </p>
                </a>
              </li>
            </pg-list-item>
          </pg-list-view-container>
        </div>
        <!-- BEGIN Conversation View  !-->
        <div class="view chat-view bg-white clearfix">
          <!-- BEGIN Header  !-->
          <div class="navbar navbar-default">
            <div *ngIf="chatHistory" class="navbar-inner">
              <a animationType="push-parrallax" class="link text-master inline action p-l-10 p-r-10" href="javascript:" parentView="chat" pg-view-trigger>
                <i class="pg pg-arrow_left"></i>
              </a>
              <div class="view-heading">
                {{chatHistory.username}}
                <div class="fs-11 hint-text">{{chatHistory.status}}</div>
              </div>
              <a class="link text-master inline action p-r-10 pull-right " href="javascript:void(0)">
                <i class="pg pg-more"></i>
              </a>
            </div>
          </div>
          <!-- END Header  !-->
          <!-- BEGIN Conversation  !-->
          <div #chatHistoryWrapper class="chat-inner" perfectScrollbar>
            <!-- BEGIN Message  !-->
            <div *ngFor="let message of chatHistory?.log" class="message clearfix">
              <div *ngIf="message.from != 'me'" class="profile-img-wrapper m-t-5 inline">
                <img alt="" class="col-top" height="30" src="{{chatHistory.img}}" width="30">
              </div>
              <div [class.from-me]="message.from == 'me'" [class.from-them]="message.from != 'me'" class="chat-bubble from-them">
                {{message.message}}
              </div>
            </div>
            <!-- END Message  !-->
          </div>
          <!-- BEGIN Conversation  !-->
          <!-- BEGIN Chat Input  !-->
          <div class="b-t b-grey bg-white clearfix p-l-10 p-r-10">
            <div class="row">
              <div class="col-1 p-t-15">
                <a class="link text-master" href="javascript:void(0)"><i class="fa fa-plus-circle"></i></a>
              </div>
              <div class="col-8 no-padding">
                <input (keypress)="onMessageKeyPress($event)" [(ngModel)]="userMessage" class="form-control chat-input" placeholder="Say something" type="text">
              </div>
              <div class="col-2 link text-master m-l-10 m-t-15 p-l-10 b-l b-grey col-top">
                <a class="link text-master" href="javascript:void(0)"><i class="pg pg-camera"></i></a>
              </div>
            </div>
          </div>
          <!-- END Chat Input  !-->
        </div>
        <!-- END Conversation View  !-->
      </div>
    </tab>
  </tabset>
  <a (click)="toggle()" class="btn-link quickview-toggle"><i class="pg pg-close"></i></a>
</div>
